<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>SuperChiDog</title>
<script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.js"></script>
<style>
  body { margin: 0; background: #5c94fc; touch-action: none; }
  canvas { display: block; margin: auto; }
</style>
</head>
<body>

<script>
const config = {
  type: Phaser.AUTO,
  width: 800,
  height: 450,
  physics: {
    default: 'arcade',
    arcade: {
      gravity: { y: 1000 },
      debug: false
    }
  },
  scene: { preload, create, update }
};

new Phaser.Game(config);

let player, cursors;
let moveLeft = false;
let moveRight = false;
let jumpCount = 0;
let lastTap = 0;

function preload() {
  this.load.image('sky', 'https://labs.phaser.io/assets/skies/sky4.png');
  this.load.image('ground', 'https://labs.phaser.io/assets/sprites/platform.png');
  this.load.image('dog', 'dog.png'); // YOUR DOG IMAGE
}

function create() {
  this.add.image(400, 225, 'sky').setScrollFactor(0);

  const platforms = this.physics.add.staticGroup();
  for (let i = 0; i < 25; i++) {
    platforms.create(i * 400, 430, 'ground')
      .setScale(2).refreshBody();
  }

  player = this.physics.add.sprite(150, 300, 'dog');
  player.setScale(0.3);
  player.setCollideWorldBounds(false);
  player.body.setSize(player.width * 0.6, player.height);

  this.physics.add.collider(player, platforms, () => {
    jumpCount = 0;
  });

  this.cameras.main.startFollow(player);
  this.cameras.main.setBounds(0, 0, 10000, 450);

  cursors = this.input.keyboard.createCursorKeys();

  // TOUCH CONTROLS
  this.input.on('pointerdown', pointer => {
    const now = this.time.now;
    if (now - lastTap < 300 && jumpCount < 2) {
      player.setVelocityY(-500);
      jumpCount++;
    } else if (jumpCount < 1) {
      player.setVelocityY(-500);
      jumpCount++;
    }
    lastTap = now;

    if (pointer.x < 400) {
      moveLeft = true;
      moveRight = false;
    } else {
      moveRight = true;
      moveLeft = false;
    }
  });

  this.input.on('pointerup', () => {
    moveLeft = false;
    moveRight = false;
  });
}

function update() {
  if (moveLeft || cursors.left.isDown) {
    player.setVelocityX(-220);
    player.flipX = true;
  } else if (moveRight || cursors.right.isDown) {
    player.setVelocityX(220);
    player.flipX = false;
  } else {
    player.setVelocityX(0);
  }

  if (cursors.up.isDown && jumpCount < 2) {
    player.setVelocityY(-500);
    jumpCount++;
  }
}
</script>

</body>
</html>
